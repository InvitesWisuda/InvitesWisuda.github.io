<?php
defined('BASEPATH') OR exit('No direct script access allowed');
?><!DOCTYPE html>
<html lang="id">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Undangan Wisuda - Susi Zahara</title>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
	<script src="https://cdn.tailwindcss.com"></script>
	<style>

		body {
  			font-family: "Poppins", sans-serif;
		}

		.bg-gradient-custom {
			background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
		}
		@keyframes fadeIn {
			from { opacity: 0; transform: translateY(20px); }
			to { opacity: 1; transform: translateY(0); }
		}
		@keyframes float {
			0%, 100% { transform: translateY(0px); }
			50% { transform: translateY(-10px); }
		}
		@keyframes slideInLeft {
			from { opacity: 0; transform: translateX(-50px); }
			to { opacity: 1; transform: translateX(0); }
		}
		@keyframes slideInRight {
			from { opacity: 0; transform: translateX(50px); }
			to { opacity: 1; transform: translateX(0); }
		}
		@keyframes pulse {
			0%, 100% { transform: scale(1); }
			50% { transform: scale(1.05); }
		}
		.fade-in {
			animation: fadeIn 1s ease-out forwards;
		}
		.float {
			animation: float 3s ease-in-out infinite;
		}
		.slide-in-left {
			animation: slideInLeft 1s ease-out forwards;
		}
		.slide-in-right {
			animation: slideInRight 1s ease-out forwards;
		}
		.pulse {
			animation: pulse 2s ease-in-out infinite;
		}
		.particle {
			position: absolute;
			width: 10px;
			height: 10px;
			background: rgba(255, 192, 203, 0.3);
			border-radius: 50%;
			animation: float 4s ease-in-out infinite;
		}
		.particle:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
		.particle:nth-child(2) { top: 20%; left: 80%; animation-delay: 1s; }
		.particle:nth-child(3) { top: 70%; left: 20%; animation-delay: 2s; }
		.particle:nth-child(4) { top: 80%; left: 90%; animation-delay: 3s; }
		.cover {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
			display: flex;
			align-items: center;
			justify-content: center;
			z-index: 10;
			transition: opacity 1s ease-out, transform 1s ease-out;
		}
		.cover.hidden {
			opacity: 0;
			transform: scale(0.9);
			pointer-events: none;
		}
		.invitation-content {
			opacity: 0;
			transform: scale(0.9);
			transition: opacity 1s ease-out, transform 1s ease-out;
		}
		.invitation-content.show {
			opacity: 1;
			transform: scale(1);
		}
		.animate-on-scroll {
			opacity: 0;
			transform: translateY(30px);
			transition: opacity 0.6s ease-out, transform 0.6s ease-out;
		}
		.animate-on-scroll.in-view {
			opacity: 1;
			transform: translateY(0);
		}
		.countdown-item {
			background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
			border-radius: 10px;
			padding: 20px;
			text-align: center;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}
		.photo-gallery img {
			transition: transform 0.3s ease;
		}
		.photo-gallery img:hover {
			transform: scale(1.05);
		}
	</style>
</head>
<body class="bg-gradient-custom min-h-screen p-4 relative overflow-auto">
	<!-- Particles -->
	<div class="particle"></div>
	<div class="particle"></div>
	<div class="particle"></div>
	<div class="particle"></div>

	<!-- Cover Page -->
	<div id="cover" class="cover">
		<div class="text-center text-white">
			<div class="mb-8">
				<h1 class="text-5xl font-bold mb-4 drop-shadow-lg">Graduation Party</h1>
				<p class="text-2xl drop-shadow-md">Klik untuk membuka</p>
			</div>
			<button id="openBtn" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-full text-xl transition duration-300 transform hover:scale-105 shadow-lg">
				Buka Undangan
			</button>
		</div>
	</div>

	<!-- Main Content -->
	<div id="invitation" class="invitation-content max-w-4xl mx-auto bg-white rounded-lg shadow-2xl overflow-hidden mt-8 mb-8">
		<!-- Header -->
		<div class="bg-pink-500 text-white text-center py-8 float animate-on-scroll">
			<p class="text-xl">YOU ARE INVITED TO</p>
			<h1 class="text-4xl font-bold mb-2">GRADUATION PARTY</h1>
		</div>

		<!-- Content -->
		<div class="p-8 text-center">
			<!-- Photo Section -->
			<div class="mb-8 animate-on-scroll">
				<div class="relative inline-block">
					<img src="Susi1.jpeg" alt="Foto Susi" class="w-56 h-56 rounded-full object-cover border-4 border-pink-300 shadow-lg pulse">
					<div class="absolute inset-0 rounded-full border-4 border-pink-500 animate-ping"></div>
				</div>
				<h2 class="text-3xl font-semibold text-gray-800 mt-4 mb-4">SUSI ZAHARA S.Si</h2>
				<p class="text-md font-bold text-gray-600 mb-2">üí´NAVIGASI SELESAI, ORBIT BERUBAHüí´</p>
				<p class="text-lg text-gray-600">ü™êKoordinat waktu dan tempatü™ê <br>
Setelah perjalanan panjang melintasi alam semesta akademis, saya ingin merayakan Supernova pencapaian ini bersama kamu pada:</p>
			</div>

			<!-- Countdown Timer -->
			<div class="mb-8 animate-on-scroll">
				<h3 class="text-2xl font-semibold text-gray-800 mb-6">Hitung Mundur Wisuda</h3>
				<div class="grid grid-cols-4 gap-4 max-w-lg mx-auto" id="countdown">
					<div class="countdown-item">
						<div class="text-3xl font-bold text-black text-center" id="days">00</div>
						<div class="text-sm text-black-100 text-center">Hari</div>
					</div>
					<div class="countdown-item">
						<div class="text-3xl font-bold text-black text-center" id="hours">00</div>
						<div class="text-sm text-black-100 text-center">Jam</div>
					</div>
					<div class="countdown-item">
						<div class="text-3xl font-bold text-black text-center" id="minutes">00</div>
						<div class="text-sm text-black-100 text-center">Menit</div>
					</div>
					<div class="countdown-item">
						<div class="text-3xl font-bold text-black text-center" id="seconds">00</div>
						<div class="text-sm text-black-100 text-center">Detik</div>
					</div>
				</div>
			</div>

			<div class="grid md:grid-cols-2 gap-6 mb-8">
				<div class="bg-pink-100 p-6 rounded-lg animate-on-scroll slide-in-left">
					<h3 class="text-xl font-semibold text-gray-800 mb-2">Tanggal</h3>
					<p class="text-gray-600">22 November 2025</p>
				</div>
				<div class="bg-pink-100 p-6 rounded-lg animate-on-scroll slide-in-right">
					<h3 class="text-xl font-semibold text-gray-800 mb-2">Waktu</h3>
					<p class="text-gray-600">13.00 - 16.00</p>
				</div>
				<div class="bg-pink-100 p-6 rounded-lg animate-on-scroll slide-in-left">
					<h3 class="text-xl font-semibold text-gray-800 mb-2">Tempat</h3>
					<p class="text-gray-600">FMIPA</p>
				</div>
			</div>

			<!-- Photo Gallery -->
			<div class="mb-8 animate-on-scroll">
				<h3 class="text-2xl font-semibold text-gray-800 mb-6">Historical Photo</h3>
				<div class="grid grid-cols-2 md:grid-cols-3 gap-4 photo-gallery">
					<img src="Susi1.jpeg" alt="Kenangan 1" class="w-full h-40 object-cover rounded-lg shadow-md">
					<img src="Susi8.jpeg" alt="Kenangan 2" class="w-full h-40 object-cover rounded-lg shadow-md">
					<img src="Susi11.jpeg" alt="Kenangan 3" class="w-full h-40 object-cover rounded-lg shadow-md">
					<img src="Susi3.jpeg" alt="Kenangan 4" class="w-full h-40 object-cover rounded-lg shadow-md">
					<img src="Susi2.jpeg" alt="Kenangan 5" class="w-full h-40 object-cover rounded-lg shadow-md">
					<img src="Susi9.jpeg" alt="Kenangan 6" class="w-full h-40 object-cover rounded-lg shadow-md">
				</div>
			</div>

			<div class="text-center animate-on-scroll">
				<p class="text-lg text-gray-700 mb-4" id="typewriter-text" style="font-family: 'Inter', sans-serif;">Setelah melewati Lintasan Ekliptika dan menggunakan Rasi Bintang sebagai panduan Navigasi, Alhamdulillah akhirnya saya mencapai Titik Perigee (pencapaian terdekat) dari misi perjalanan menjelajahi galaksi ini. Melalui proses Fusi Nuklir Intelektual yang intensif di dalam Nebula Akademik dan kini siap melakukan Transisi Fase dari Bintang Muda menjadi Bintang Urutan Utama <i>(Main Sequence Star)</i> yang stabil dan bersinar.
Dengan penuh rasa syukur dan hati yang bersinar layaknya bintang paling terang, saya mengundang kamu untuk menyaksikan momen bersejarah saya menuju orbit karier dan menjelajahi galaksi baru selanjutnya. <i class="font-semibold">"Dari bintang yang sama, Memulai perjalanan yang berbeda".</i>
Kehadiran kamu akan menjadi spektrum warna paling indah dalam peta perayaan ini.</p>
				<p class="text-gray-600" id="closing-text" style="opacity: 0;">Sampai bertemu di bawah gugusan bintang‚ú®</p>
			</div>
		</div>

		<!-- Footer -->
		<div class="bg-gray-100 text-center py-4 animate-on-scroll">
			<p class="text-gray-600">Susi Zahara S.Si‚ù§Ô∏è</p>
		</div>
	</div>

	<!-- Audio Embed -->
	<audio id="bgMusic" autoplay loop style="display: none;">
		<source src="[MV] Weeekly(ÏúÑÌÅ¥Î¶¨) _ After School.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			try {
				const cover = document.getElementById('cover');
				const invitation = document.getElementById('invitation');
				const openBtn = document.getElementById('openBtn');
				const bgMusic = document.getElementById('bgMusic');
				const playMusicBtn = document.getElementById('playMusicBtn');

				// Ensure elements exist
				if (!cover || !invitation || !openBtn) {
					console.error('Required elements not found');
					return;
				}

				// Check if autoplay is supported
				let autoplaySupported = false;
				if (bgMusic) {
					const playPromise = bgMusic.play();
					if (playPromise !== undefined) {
						playPromise.then(() => {
							autoplaySupported = true;
						}).catch(() => {
							autoplaySupported = false;
							if (playMusicBtn) {
								playMusicBtn.style.display = 'block';
							}
						});
					}
				}

				// Play music button for mobile
				if (playMusicBtn) {
					playMusicBtn.addEventListener('click', function() {
						if (bgMusic) {
							bgMusic.play();
							playMusicBtn.style.display = 'none';
						}
					});
				}

				// Open invitation
				openBtn.addEventListener('click', function() {
					cover.classList.add('hidden');
					invitation.classList.add('show');
					// Try to play music when opening invitation
					if (!autoplaySupported && bgMusic) {
						const playPromise = bgMusic.play();
						if (playPromise !== undefined) {
							playPromise.catch(() => {
								if (playMusicBtn) {
									playMusicBtn.style.display = 'block';
								}
							});
						}
					}
				});

				// Countdown Timer
				function updateCountdown() {
					try {
						const targetDate = new Date('2025-11-22 13:00').getTime();
						const now = new Date().getTime();
						const distance = targetDate - now;

						if (distance > 0) {
							const days = Math.floor(distance / (1000 * 60 * 60 * 24));
							const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
							const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
							const seconds = Math.floor((distance % (1000 * 60)) / 1000);

							const daysEl = document.getElementById('days');
							const hoursEl = document.getElementById('hours');
							const minutesEl = document.getElementById('minutes');
							const secondsEl = document.getElementById('seconds');

							if (daysEl) daysEl.innerText = days.toString().padStart(2, '0');
							if (hoursEl) hoursEl.innerText = hours.toString().padStart(2, '0');
							if (minutesEl) minutesEl.innerText = minutes.toString().padStart(2, '0');
							if (secondsEl) secondsEl.innerText = seconds.toString().padStart(2, '0');
						} else {
							const countdownEl = document.getElementById('countdown');
							if (countdownEl) {
								countdownEl.innerHTML = '<div class="col-span-4 text-2xl font-bold text-pink-600">Wisuda Sudah Dimulai!</div>';
							}
						}
					} catch (error) {
						console.error('Error updating countdown:', error);
					}
				}

					updateCountdown();
				setInterval(updateCountdown, 1000);

				// Typewriter effect with HTML support
				function typeWriter(text, element, speed = 50) {
					let i = 0;
					element.innerHTML = '';
					element.style.opacity = '1';

					function type() {
						if (i < text.length) {
							element.innerHTML = text.substring(0, i + 1);
							i++;
							setTimeout(type, speed);
						} else {
							// Show closing text after typewriter finishes
							setTimeout(() => {
								const closingText = document.getElementById('closing-text');
								if (closingText) {
									closingText.style.transition = 'opacity 1s ease-in-out';
									closingText.style.opacity = '1';
								}
							}, 500);
						}
					}
					type();
				}

				// Second typewriter effect
				function typeWriter2(text, element, speed = 50) {
					let i = 0;
					element.innerHTML = '';
					element.style.opacity = '1';

					function type() {
						if (i < text.length) {
							element.innerHTML = text.substring(0, i + 1);
							i++;
							setTimeout(type, speed);
						}
					}
					type();
				}

				// Start typewriter when element comes into view
				const typewriterObserver = new IntersectionObserver((entries) => {
					entries.forEach(entry => {
						if (entry.isIntersecting) {
							const typewriterText = document.getElementById('typewriter-text');
							if (typewriterText && !typewriterText.hasAttribute('data-typed')) {
								typewriterText.setAttribute('data-typed', 'true');
								const text = "<p class=\"text-lg text-gray-700 mb-4\" style=\"font-family: 'Inter', sans-serif;\">Setelah melewati Lintasan Ekliptika dan menggunakan Rasi Bintang sebagai panduan Navigasi, Alhamdulillah akhirnya saya mencapai Titik Perigee (pencapaian terdekat) dari misi perjalanan menjelajahi galaksi ini. Melalui proses Fusi Nuklir Intelektual yang intensif di dalam Nebula Akademik dan kini siap melakukan Transisi Fase dari Bintang Muda menjadi Bintang Urutan Utama <i>(Main Sequence Star)</i> yang stabil dan bersinar.<br><br>Dengan penuh rasa syukur dan hati yang bersinar layaknya bintang paling terang, saya mengundang kamu untuk menyaksikan momen bersejarah saya menuju orbit karier dan menjelajahi galaksi baru selanjutnya. <i class=\"font-semibold\">\"Dari bintang yang sama, Memulai perjalanan yang berbeda\".</i><br><br>Kehadiran kamu akan menjadi spektrum warna paling indah dalam peta perayaan ini.</p>";
								typeWriter(text, typewriterText, 50);
							}
						}
					});
				}, { threshold: 0.5 });

				const typewriterElement = document.querySelector('.animate-on-scroll');
				if (typewriterElement) {
					typewriterObserver.observe(typewriterElement);
				}

				// Scroll animations
				try {
					const observerOptions = {
						threshold: 0.1,
						rootMargin: '0px 0px -50px 0px'
					};

					const observer = new IntersectionObserver((entries) => {
						entries.forEach(entry => {
							if (entry.isIntersecting) {
								entry.target.classList.add('in-view');
							}
						});
					}, observerOptions);

					document.querySelectorAll('.animate-on-scroll').forEach(el => {
						observer.observe(el);
					});
				} catch (error) {
					console.error('Error setting up scroll animations:', error);
				}

			} catch (error) {
				console.error('Error initializing page:', error);
				// Fallback: ensure cover is visible and button works
				const cover = document.getElementById('cover');
				const invitation = document.getElementById('invitation');
				const openBtn = document.getElementById('openBtn');

				if (cover && invitation && openBtn) {
					openBtn.addEventListener('click', function() {
						cover.classList.add('hidden');
						invitation.classList.add('show');
					});
				}
			}
		});
	</script>
</body>
</html>
